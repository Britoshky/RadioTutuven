<header class="section page-header">
    <!-- RD Navbar-->
    <div class="rd-navbar-wrap">
        <nav class="rd-navbar" data-layout="rd-navbar-fixed" data-sm-layout="rd-navbar-fixed"
            data-sm-device-layout="rd-navbar-fixed" data-md-layout="rd-navbar-static"
            data-md-device-layout="rd-navbar-fixed" data-lg-device-layout="rd-navbar-static"
            data-lg-layout="rd-navbar-static" data-stick-up-clone="false" data-md-stick-up-offset="5px"
            data-lg-stick-up-offset="5px" data-md-stick-up="true" data-lg-stick-up="true">
            <div class="rd-navbar-main-outer">
                <div class="rd-navbar-main">
                    <!-- RD Navbar Panel-->
                    <div class="rd-navbar-panel">
                        <button class="rd-navbar-toggle"
                            data-rd-navbar-toggle=".rd-navbar-nav-wrap"><span></span></button>
                    </div>
                    <!-- RD Navbar Nav-->
                    <div class="rd-navbar-nav-wrap">
                        <ul class="rd-navbar-nav">
                            <li class="active"><a href="/">Inicio</a></li>
                            <li><a href="/quienes_somos">¿Quiénes Somos?</a></li>
                            <li><a href="/fotos">Fotos</a></li>
                            <li class="dropdown">
                                <a href="#" class="dropdown-toggle">Historias</a>
                                <ul class="dropdown-menu">
                                    <li><a href="/tranque_tutuven">Tranque Tutuven</a></li>
                                    <li><a href="/faro_carranza_chanco">Faro Carranza</a></li>
                                    <li><a href="/cienagas-de-name">Ciénagas de Name</a></li>
                                    <li><a href="/curanipe">Balneario Curanipe</a></li>
                                    <li class="dropdown">
                                        <a href="#" class="dropdown-toggle">Reservas</a>
                                        <ul class="dropdown-menu">
                                            <li><a href="/reserva-nacional-federico-albert">Reserva Nacional Federico
                                                    Albert</a></li>
                                            <li><a href="/reserva-nacional-los-ruiles">Reserva Nacional Los Ruiles</a>
                                            </li>
                                        </ul>
                                    </li>
                                    <li class="dropdown">
                                        <a href="#" class="dropdown-toggle">Personajes</a>
                                        <ul class="dropdown-menu">
                                            <li><a href="/guadalupe-del-carmen">Guadalupe del Carmen</a></li>
                                            <li><a href="/federico-albert-faupp">Federico Albert Faupp</a></li>
                                        </ul>
                                    </li>
                                    <li class="dropdown">
                                        <a href="#" class="dropdown-toggle">Comunas</a>
                                        <ul class="dropdown-menu">
                                            <li><a href="/cauquenes">Cauquenes</a></li>
                                            <li><a href="/chanco">Chanco</a></li>
                                            <li><a href="/pelluhue">Pelluhue</a></li>
                                        </ul>
                                    </li>
                                </ul>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="dropdown-toggle">Páginas Amigas</a>
                                <ul class="dropdown-menu">
                                    <li><a href="https://www.carabineros.cl/" target="_blank">Carabineros de Chile</a>
                                    </li>
                                    <li><a href="https://lasuperestacion.cl/" target="_blank">La Súper Estación</a></li>
                                    <li><a href="https://www.chanquinafm.cl/" target="_blank">Radio Chanquina</a></li>
                                    <li><a href="https://www.radiolanube.cl/" target="_blank">Radio La Nube</a></li>
                                    <li><a href="https://cauquenino.cl/" target="_blank">CauqueninoCl</a></li>
                                    <li><a href="https://cauquenesnet.cl/" target="_blank">CauquenesNet</a></li>
                                </ul>
                            </li>
                            <li><a href="/contacto">Contacto</a></li>
                        </ul>
                    </div>
                </div>
            </div>
        </nav>
    </div>
</header>

<style>
  /* Estilos generales para el menú */
.dropdown-menu {
    display: none;
    position: absolute;
    background-color: var(--hover-background-color, #f9f9f9);
    padding: 10px;
    z-index: 999;
    text-align: left;
    border-radius: 5px;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
    margin-top: 5px;
    min-width: 200px;
}

.dropdown:hover > .dropdown-menu,
.dropdown-menu .dropdown:hover > .dropdown-menu {
    display: block;
}

.dropdown-menu li {
    list-style: none;
    position: relative;
}

.dropdown-menu li a {
    color: #333;
    text-decoration: none;
    display: block;
    padding: 8px 10px;
    border-radius: 5px;
}

.dropdown-menu li a:hover {
    background-color: #00bd9d;
    color: #fff;
}

.dropdown {
    position: relative;
}

.dropdown > .dropdown-menu {
    left: 0;
    top: 100%;
}

/* Estilo específico para submenús anidados */
.dropdown-menu .dropdown > .dropdown-menu {
    left: 100%; /* Ajustar el posicionamiento del submenú */
    top: 0;
    margin-top: 0;
    margin-left: 0;
    z-index: 1000; /* Asegurar que el submenú esté por encima */
    display: none; /* Mantener el submenú oculto por defecto */
}

/* Mostrar submenú al pasar el mouse por encima */
.dropdown-menu .dropdown:hover > .dropdown-menu {
    display: block;
}

/* Ajustes para vista móvil */
@media (max-width: 768px) {
    .dropdown-menu {
        position: static;
        display: none; /* Mantener el menú oculto inicialmente en vista móvil */
        margin: 0;
        box-shadow: none;
    }

    .dropdown:hover > .dropdown-menu,
    .dropdown-menu .dropdown:hover > .dropdown-menu {
        display: block; /* Mostrar submenús en hover */
        position: relative; /* Evitar desbordamiento en dispositivos móviles */
        margin-top: 0;
    }

    .dropdown-menu .dropdown > .dropdown-menu {
        position: relative;
        left: 0;
        top: 0;
        display: none; /* Ocultar submenús anidados inicialmente */
    }

    .dropdown-menu .dropdown:hover > .dropdown-menu {
        display: block; /* Mostrar submenús anidados al pasar el mouse */
        margin-left: 20px; /* Añadir un margen para diferenciar visualmente */
    }

    .rd-navbar-nav-wrap {
        width: 100%;
    }
}


</style>

<script>
    document.addEventListener('DOMContentLoaded', function () {
        var dropdowns = document.querySelectorAll('.dropdown');

        dropdowns.forEach(function (dropdown) {
            dropdown.addEventListener('mouseenter', function () {
                clearTimeout(dropdown.hideTimeout);
                var submenu = this.querySelector('.dropdown-menu');
                if (submenu) submenu.classList.add('show');
            });

            dropdown.addEventListener('mouseleave', function () {
                var submenu = this.querySelector('.dropdown-menu');
                if (submenu) {
                    dropdown.hideTimeout = setTimeout(function () {
                        submenu.classList.remove('show');
                    }, 100); // 300ms delay before hiding
                }
            });
        });
    });
</script>